<!DOCTYPE html>
<html lang="es">
<head>
Â  <meta charset="UTF-8">
Â  <title>Consejero Emocional con Gemini</title>
Â  <style>
Â  Â  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f4f8; }
Â  Â  #chat { border: 1px solid #ccc; padding: 10px; height: 400px; overflow-y: scroll; background: white; }
Â  Â  .msg { margin: 10px 0; }
Â  Â  .user { font-weight: bold; color: blue; }
Â  Â  .bot { font-weight: bold; color: green; }
Â  Â  input, button { padding: 10px; font-size: 16px; }
Â  Â  #formulario { margin-top: 10px; display: flex; gap: 10px; }
Â  </style>
</head>
<body>

Â  <h1>ðŸ§  Consejero Emocional</h1>
Â  <div id="chat"></div>

Â  <div id="formulario">
Â  Â  <input type="text" id="entrada" placeholder="CuÃ©ntame cÃ³mo te sientes..." />
Â  Â  <button onclick="enviarMensaje()">Enviar</button>
Â  </div>

Â  <script>
Â  Â  const API_KEY = 'AIzaSyD59Kw6GzBFlCEHTjksiZAdIQdkaeP8ldo';
Â  Â  const chatDiv = document.getElementById('chat');
Â  Â  const input = document.getElementById('entrada');

Â  Â  function agregarMensaje(texto, autor) {
Â  Â  Â  const msg = document.createElement('div');
Â  Â  Â  msg.className = 'msg';
Â  Â  Â  msg.innerHTML = <span class="${autor}">${autor === 'user' ? 'TÃº' : 'Consejero'}:</span> ${texto};
Â  Â  Â  chatDiv.appendChild(msg);
Â  Â  Â  chatDiv.scrollTop = chatDiv.scrollHeight;
Â  Â  }

Â  Â  async function enviarMensaje() {
Â  Â  Â  const mensaje = input.value.trim();
Â  Â  Â  if (!mensaje) return;

Â  Â  Â  agregarMensaje(mensaje, 'user');
Â  Â  Â  input.value = '';

Â  Â  Â  const respuesta = await fetch(https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${API_KEY}, {
Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  body: JSON.stringify({
Â  Â  Â  Â  Â  contents: [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  parts: [
Â  Â  Â  Â  Â  Â  Â  Â  { text: Tomas el papel de un psicÃ³logo profesional que da tÃ©cnicas para poder ayudar al usuario se breve y no uses caracteres especiales. ${mensaje} }
Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  })
Â  Â  Â  });

Â  Â  Â  const data = await respuesta.json();
Â  Â  Â  const textoRespuesta = data?.candidates?.[0]?.content?.parts?.[0]?.text || 'Lo siento, no pude responder en este momento.';
Â  Â  Â  agregarMensaje(textoRespuesta, 'bot');
Â  Â  }
Â  </script>

</body>
</html>
